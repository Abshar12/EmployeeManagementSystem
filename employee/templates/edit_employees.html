{% include 'header.html' %}
<head>
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
</head>

<body style="background-color: lightblue;">
    <div class="container">
        {% if messages %}
            
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }} m-2 " role="alert">{{ message }}</div>
                {% endfor %}
            
        {% endif %}
    </div>
    <a href="{% url 'showemp' %}" class="btn btn-info m-2 " style="float: right;padding: auto;">Back to employee</a>
<div class="row m-3" >
    <div-col-sm-8 offset-2 class="m-3">
        <h2 class="text-center" style="border-bottom:2px solid black ;margin-left: 200px;margin-right: 200px;">Update Employee Information</h2>

        <div class="container"  style="margin-left:250px;margin-top: 50px;">
            <form action="" method="POST" id="Employee"  data-states-url="{% url 'ajax_load_states'%}" data-cities-url="{% url 'ajax_load_cities'%}">
                {%csrf_token%}
                {{form.as_p}}
                <input type="submit" class="btn btn-success" value="Update">
                
            </form>
        </div>
    </div>
</div>


<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
    $("#id_country").change(function(){
        const url = $("#Employee").attr("data-states-url");
        const countryId = $(this).val();

        $.ajax({
            url:url,
            data:{
                'country_id':countryId
            },
            success: function(data){
                $("#id_state").html(data);
            }
        })
    })

    
</script>
<script>
    $("#id_state").change(function(){
        const url = $("#Employee").attr("data-cities-url");
        const stateId = $(this).val();

        $.ajax({
            url:url,
            data:{
                'state_id':stateId
            },
            success: function(data){
                $("#id_city").html(data);
            }
        })
    })

    
</script>
